interactions:
- request:
    body: '{"sku": {"tier": "Standard", "name": "Standard_A1", "capacity": 5}, "location":
      "westus", "properties": {"overprovision": true, "upgradePolicy": {"mode": "Manual"},
      "virtualMachineProfile": {"networkProfile": {"networkInterfaceConfigurations":
      [{"properties": {"primary": true, "ipConfigurations": [{"properties": {"subnet":
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_managed_disks_test_create_virtual_machine_scale_set5cc18eb/providers/Microsoft.Network/virtualNetworks/pyvmirnet5cc18eb/subnets/pyvmirsub5cc18eb"}},
      "name": "PyTestInfixipconfig"}]}, "name": "PyTestInfixnic"}]}, "storageProfile":
      {"imageReference": {"sku": "16.04.0-LTS", "version": "latest", "publisher":
      "Canonical", "offer": "UbuntuServer"}}, "osProfile": {"adminUsername": "Foo12",
      "computerNamePrefix": "PyTestInfix", "adminPassword": "BaR@123!!!!"}}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['867']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.11
          msrest_azure/0.4.10 computemanagementclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c7e11066-5d36-11e7-ba78-ecb1d756380e]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_managed_disks_test_create_virtual_machine_scale_set5cc18eb/providers/Microsoft.Compute/virtualMachineScaleSets/pyvmirvm5cc18eb?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_A1\",\r\n    \"tier\":
        \"Standard\",\r\n    \"capacity\": 5\r\n  },\r\n  \"properties\": {\r\n    \"singlePlacementGroup\":
        true,\r\n    \"upgradePolicy\": {\r\n      \"mode\": \"Manual\"\r\n    },\r\n
        \   \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n        \"computerNamePrefix\":
        \"PyTestInfix\",\r\n        \"adminUsername\": \"Foo12\",\r\n        \"linuxConfiguration\":
        {\r\n          \"disablePasswordAuthentication\": false\r\n        },\r\n
        \       \"secrets\": []\r\n      },\r\n      \"storageProfile\": {\r\n        \"osDisk\":
        {\r\n          \"createOption\": \"FromImage\",\r\n          \"caching\":
        \"None\",\r\n          \"managedDisk\": {\r\n            \"storageAccountType\":
        \"Standard_LRS\"\r\n          }\r\n        },\r\n        \"imageReference\":
        {\r\n          \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\n
        \         \"sku\": \"16.04.0-LTS\",\r\n          \"version\": \"latest\"\r\n
        \       }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\":[{\"name\":\"PyTestInfixnic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\":false,\"dnsSettings\":{\"dnsServers\":[]},\"ipConfigurations\":[{\"name\":\"PyTestInfixipconfig\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_managed_disks_test_create_virtual_machine_scale_set5cc18eb/providers/Microsoft.Network/virtualNetworks/pyvmirnet5cc18eb/subnets/pyvmirsub5cc18eb\"},\"privateIPAddressVersion\":\"IPv4\"}}]}}]}\r\n
        \   },\r\n    \"provisioningState\": \"Creating\",\r\n    \"overprovision\":
        true,\r\n    \"uniqueId\": \"c775ff4c-3401-4fdb-8f24-096b0f4372b5\"\r\n  },\r\n
        \ \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n  \"location\":
        \"westus\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_managed_disks_test_create_virtual_machine_scale_set5cc18eb/providers/Microsoft.Compute/virtualMachineScaleSets/pyvmirvm5cc18eb\",\r\n
        \ \"name\": \"pyvmirvm5cc18eb\"\r\n}"}
    headers:
      Azure-AsyncOperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/operations/58b8596a-6b4d-4bfa-973a-ce5b90982af3?api-version=2017-03-30']
      Cache-Control: [no-cache]
      Content-Length: ['1863']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 30 Jun 2017 01:52:33 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-correlation-request-id: [7ddc4714-1566-4d14-88c0-1054eaa7c03f]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-id: [58b8596a-6b4d-4bfa-973a-ce5b90982af3]
      x-ms-routing-request-id: ['WESTUS2:20170630T015233Z:7ddc4714-1566-4d14-88c0-1054eaa7c03f']
      x-ms-served-by: [2d78c99a-5cdc-4580-9eb7-b3e168e83a95_131282043969998685]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.11
          msrest_azure/0.4.10 computemanagementclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c7e11066-5d36-11e7-ba78-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/operations/58b8596a-6b4d-4bfa-973a-ce5b90982af3?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"startTime\": \"2017-06-30T01:52:32.49999+00:00\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"name\": \"58b8596a-6b4d-4bfa-973a-ce5b90982af3\"\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 30 Jun 2017 01:53:03 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['132']
      x-ms-correlation-request-id: [62100d14-b67e-40ab-8c5d-fad5f4f313db]
      x-ms-ratelimit-remaining-subscription-reads: ['14992']
      x-ms-request-id: [292ebe08-cc29-4242-b8bc-5a17cb02430d]
      x-ms-routing-request-id: ['WESTUS:20170630T015303Z:62100d14-b67e-40ab-8c5d-fad5f4f313db']
      x-ms-served-by: [2d78c99a-5cdc-4580-9eb7-b3e168e83a95_131282043969998685]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.11
          msrest_azure/0.4.10 computemanagementclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c7e11066-5d36-11e7-ba78-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/operations/58b8596a-6b4d-4bfa-973a-ce5b90982af3?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"startTime\": \"2017-06-30T01:52:32.49999+00:00\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"name\": \"58b8596a-6b4d-4bfa-973a-ce5b90982af3\"\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 30 Jun 2017 01:53:33 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['132']
      x-ms-correlation-request-id: [fcc4aa38-f6ab-497a-80ec-9f419080057e]
      x-ms-ratelimit-remaining-subscription-reads: ['14996']
      x-ms-request-id: [ab9eb927-b639-42ec-8129-e7c98a057ea7]
      x-ms-routing-request-id: ['WESTUS:20170630T015334Z:fcc4aa38-f6ab-497a-80ec-9f419080057e']
      x-ms-served-by: [2d78c99a-5cdc-4580-9eb7-b3e168e83a95_131282043969998685]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.11
          msrest_azure/0.4.10 computemanagementclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c7e11066-5d36-11e7-ba78-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/operations/58b8596a-6b4d-4bfa-973a-ce5b90982af3?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"startTime\": \"2017-06-30T01:52:32.49999+00:00\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"name\": \"58b8596a-6b4d-4bfa-973a-ce5b90982af3\"\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 30 Jun 2017 01:54:03 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['132']
      x-ms-correlation-request-id: [a100981a-9126-4cae-9e97-f425f45a836a]
      x-ms-ratelimit-remaining-subscription-reads: ['14998']
      x-ms-request-id: [64321597-a9b7-4d69-a977-7a051d17e13f]
      x-ms-routing-request-id: ['WESTUS:20170630T015404Z:a100981a-9126-4cae-9e97-f425f45a836a']
      x-ms-served-by: [2d78c99a-5cdc-4580-9eb7-b3e168e83a95_131282043969998685]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.11
          msrest_azure/0.4.10 computemanagementclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c7e11066-5d36-11e7-ba78-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/operations/58b8596a-6b4d-4bfa-973a-ce5b90982af3?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"startTime\": \"2017-06-30T01:52:32.49999+00:00\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"name\": \"58b8596a-6b4d-4bfa-973a-ce5b90982af3\"\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 30 Jun 2017 01:54:34 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['132']
      x-ms-correlation-request-id: [bb4b62cb-17e7-4abc-a681-03e5fd068f1f]
      x-ms-ratelimit-remaining-subscription-reads: ['14995']
      x-ms-request-id: [422c6a98-1195-4910-81ee-03f1050432bb]
      x-ms-routing-request-id: ['WESTUS2:20170630T015435Z:bb4b62cb-17e7-4abc-a681-03e5fd068f1f']
      x-ms-served-by: [2d78c99a-5cdc-4580-9eb7-b3e168e83a95_131282043969998685]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.11
          msrest_azure/0.4.10 computemanagementclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c7e11066-5d36-11e7-ba78-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/operations/58b8596a-6b4d-4bfa-973a-ce5b90982af3?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"startTime\": \"2017-06-30T01:52:32.49999+00:00\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"name\": \"58b8596a-6b4d-4bfa-973a-ce5b90982af3\"\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 30 Jun 2017 01:55:05 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['132']
      x-ms-correlation-request-id: [091b0772-2e31-4c4a-b661-cebeb4f9eb6e]
      x-ms-ratelimit-remaining-subscription-reads: ['14996']
      x-ms-request-id: [17bd0fcd-0be0-4976-b846-3a7673c16783]
      x-ms-routing-request-id: ['WESTUS2:20170630T015505Z:091b0772-2e31-4c4a-b661-cebeb4f9eb6e']
      x-ms-served-by: [2d78c99a-5cdc-4580-9eb7-b3e168e83a95_131282043969998685]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.11
          msrest_azure/0.4.10 computemanagementclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c7e11066-5d36-11e7-ba78-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/operations/58b8596a-6b4d-4bfa-973a-ce5b90982af3?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"startTime\": \"2017-06-30T01:52:32.49999+00:00\",\r\n
        \ \"endTime\": \"2017-06-30T01:55:12.5768316+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"name\": \"58b8596a-6b4d-4bfa-973a-ce5b90982af3\"\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 30 Jun 2017 01:55:35 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['182']
      x-ms-correlation-request-id: [068b3652-64ef-4b88-9dfa-08b71161803a]
      x-ms-ratelimit-remaining-subscription-reads: ['14996']
      x-ms-request-id: [03365406-c8c4-4a16-9ebc-5312f32d4bb8]
      x-ms-routing-request-id: ['WESTUS2:20170630T015535Z:068b3652-64ef-4b88-9dfa-08b71161803a']
      x-ms-served-by: [2d78c99a-5cdc-4580-9eb7-b3e168e83a95_131282043969998685]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.11
          msrest_azure/0.4.10 computemanagementclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c7e11066-5d36-11e7-ba78-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_managed_disks_test_create_virtual_machine_scale_set5cc18eb/providers/Microsoft.Compute/virtualMachineScaleSets/pyvmirvm5cc18eb?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_A1\",\r\n    \"tier\":
        \"Standard\",\r\n    \"capacity\": 5\r\n  },\r\n  \"properties\": {\r\n    \"singlePlacementGroup\":
        true,\r\n    \"upgradePolicy\": {\r\n      \"mode\": \"Manual\"\r\n    },\r\n
        \   \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n        \"computerNamePrefix\":
        \"PyTestInfix\",\r\n        \"adminUsername\": \"Foo12\",\r\n        \"linuxConfiguration\":
        {\r\n          \"disablePasswordAuthentication\": false\r\n        },\r\n
        \       \"secrets\": []\r\n      },\r\n      \"storageProfile\": {\r\n        \"osDisk\":
        {\r\n          \"createOption\": \"FromImage\",\r\n          \"caching\":
        \"None\",\r\n          \"managedDisk\": {\r\n            \"storageAccountType\":
        \"Standard_LRS\"\r\n          }\r\n        },\r\n        \"imageReference\":
        {\r\n          \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\n
        \         \"sku\": \"16.04.0-LTS\",\r\n          \"version\": \"latest\"\r\n
        \       }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\":[{\"name\":\"PyTestInfixnic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\":false,\"dnsSettings\":{\"dnsServers\":[]},\"ipConfigurations\":[{\"name\":\"PyTestInfixipconfig\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_managed_disks_test_create_virtual_machine_scale_set5cc18eb/providers/Microsoft.Network/virtualNetworks/pyvmirnet5cc18eb/subnets/pyvmirsub5cc18eb\"},\"privateIPAddressVersion\":\"IPv4\"}}]}}]}\r\n
        \   },\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"overprovision\":
        true,\r\n    \"uniqueId\": \"c775ff4c-3401-4fdb-8f24-096b0f4372b5\"\r\n  },\r\n
        \ \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n  \"location\":
        \"westus\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_managed_disks_test_create_virtual_machine_scale_set5cc18eb/providers/Microsoft.Compute/virtualMachineScaleSets/pyvmirvm5cc18eb\",\r\n
        \ \"name\": \"pyvmirvm5cc18eb\"\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 30 Jun 2017 01:55:35 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1864']
      x-ms-correlation-request-id: [78014069-d6d9-4685-aeef-84c994b71a0d]
      x-ms-ratelimit-remaining-subscription-reads: ['14994']
      x-ms-request-id: [6e3f4f3e-7820-4faa-ab09-a7ec18bd1944]
      x-ms-routing-request-id: ['WESTUS2:20170630T015536Z:78014069-d6d9-4685-aeef-84c994b71a0d']
      x-ms-served-by: [2d78c99a-5cdc-4580-9eb7-b3e168e83a95_131282043969998685]
    status: {code: 200, message: OK}
version: 1
