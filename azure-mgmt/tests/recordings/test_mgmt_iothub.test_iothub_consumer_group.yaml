interactions:
- request:
    body: '{"sku": {"capacity": 2, "name": "S1"}, "resourcegroup": "test_mgmt_iothub_test_iothub_consumer_group88d011ee",
      "subscriptionid": "00000000-0000-0000-0000-000000000000", "properties": {"enableFileUploadNotifications":
      false, "operationsMonitoringProperties": {"events": {"C2DCommands": "Error",
      "DeviceIdentityOperations": "Error", "Connections": "Information", "DeviceTelemetry":
      "Error"}}, "features": "None"}, "location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['433']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c10c3988-5066-11e7-9436-ecb1d756380e]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee?api-version=2017-01-19
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee","name":"iot88d011ee","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"00000000-0000-0000-0000-000000000000","resourcegroup":"test_mgmt_iothub_test_iothub_consumer_group88d011ee","properties":{"state":"Activating","provisioningState":"Accepted","enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"Error","DeviceIdentityOperations":"Error","Connections":"Information","DeviceTelemetry":"Error"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":2}}'}
    headers:
      Azure-AsyncOperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/operationResults/NDU5N2JhNTAtZDJjYi00OWNjLWI4NTEtMWM5M2E3MGUyOGYw?api-version=2017-01-19&asyncinfo']
      Cache-Control: [no-cache]
      Content-Length: ['896']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:33:12 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-correlation-request-id: [057da49b-43e6-423d-a8f8-f730b77c7355]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
      x-ms-request-id: [057da49b-43e6-423d-a8f8-f730b77c7355]
      x-ms-routing-request-id: ['WESTUS:20170613T183313Z:057da49b-43e6-423d-a8f8-f730b77c7355']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c10c3988-5066-11e7-9436-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/operationResults/NDU5N2JhNTAtZDJjYi00OWNjLWI4NTEtMWM5M2E3MGUyOGYw?api-version=2017-01-19&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:33:43 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
      x-ms-correlation-request-id: [94ece479-0273-4b91-b305-41a96876572f]
      x-ms-ratelimit-remaining-subscription-reads: ['14999']
      x-ms-request-id: [94ece479-0273-4b91-b305-41a96876572f]
      x-ms-routing-request-id: ['WESTUS2:20170613T183343Z:94ece479-0273-4b91-b305-41a96876572f']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c10c3988-5066-11e7-9436-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/operationResults/NDU5N2JhNTAtZDJjYi00OWNjLWI4NTEtMWM5M2E3MGUyOGYw?api-version=2017-01-19&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:34:13 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
      x-ms-correlation-request-id: [b86e94f5-6f06-4c5d-a8fd-3aa15886a392]
      x-ms-ratelimit-remaining-subscription-reads: ['14998']
      x-ms-request-id: [b86e94f5-6f06-4c5d-a8fd-3aa15886a392]
      x-ms-routing-request-id: ['WESTUS2:20170613T183414Z:b86e94f5-6f06-4c5d-a8fd-3aa15886a392']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c10c3988-5066-11e7-9436-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/operationResults/NDU5N2JhNTAtZDJjYi00OWNjLWI4NTEtMWM5M2E3MGUyOGYw?api-version=2017-01-19&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:34:44 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
      x-ms-correlation-request-id: [8a4f2206-f1af-4436-85fe-7e1559070381]
      x-ms-ratelimit-remaining-subscription-reads: ['14997']
      x-ms-request-id: [8a4f2206-f1af-4436-85fe-7e1559070381]
      x-ms-routing-request-id: ['WESTUS2:20170613T183444Z:8a4f2206-f1af-4436-85fe-7e1559070381']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c10c3988-5066-11e7-9436-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/operationResults/NDU5N2JhNTAtZDJjYi00OWNjLWI4NTEtMWM5M2E3MGUyOGYw?api-version=2017-01-19&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:35:14 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['22']
      x-ms-correlation-request-id: [96097cc4-1025-459d-96cc-21d0abfc1c0a]
      x-ms-ratelimit-remaining-subscription-reads: ['14997']
      x-ms-request-id: [96097cc4-1025-459d-96cc-21d0abfc1c0a]
      x-ms-routing-request-id: ['WESTUS:20170613T183514Z:96097cc4-1025-459d-96cc-21d0abfc1c0a']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c10c3988-5066-11e7-9436-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee?api-version=2017-01-19
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee","name":"iot88d011ee","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"00000000-0000-0000-0000-000000000000","resourcegroup":"test_mgmt_iothub_test_iothub_consumer_group88d011ee","etag":"AAAAAAD99GM=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot88d011ee.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot88d011ee","endpoint":"sb://iothub-ns-iot88d011e-173655-2456510c72.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot88d011ee-operationmonitoring","endpoint":"sb://iothub-ns-iot88d011e-173655-2456510c72.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"Error","DeviceIdentityOperations":"Error","Connections":"Information","DeviceTelemetry":"Error","None":"None","FileUploadOperations":"None","Routes":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":2}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:35:14 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1920']
      x-ms-correlation-request-id: [fccc172b-e128-4a57-85b3-71d760c883c9]
      x-ms-ratelimit-remaining-subscription-reads: ['14995']
      x-ms-request-id: [fccc172b-e128-4a57-85b3-71d760c883c9]
      x-ms-routing-request-id: ['WESTUS:20170613T183515Z:fccc172b-e128-4a57-85b3-71d760c883c9']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0ae2f354-5067-11e7-8842-ecb1d756380e]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/eventHubEndpoints/events/ConsumerGroups/consumergrp88d011ee?api-version=2017-01-19
  response:
    body: {string: '{"tags":null,"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee","name":"consumergrp88d011ee"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:35:16 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['216']
      x-ms-correlation-request-id: [85115aae-dc75-4e8b-a5ab-ccd4ae1a82f9]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-id: [85115aae-dc75-4e8b-a5ab-ccd4ae1a82f9]
      x-ms-routing-request-id: ['WESTUS:20170613T183517Z:85115aae-dc75-4e8b-a5ab-ccd4ae1a82f9']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0c2ed18a-5067-11e7-9b4e-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/eventHubEndpoints/events/ConsumerGroups/consumergrp88d011ee?api-version=2017-01-19
  response:
    body: {string: '{"tags":null,"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee","name":"consumergrp88d011ee"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:35:17 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['216']
      x-ms-correlation-request-id: [bc6fc82d-478e-48ea-9e19-8be91fa25e83]
      x-ms-ratelimit-remaining-subscription-reads: ['14997']
      x-ms-request-id: [bc6fc82d-478e-48ea-9e19-8be91fa25e83]
      x-ms-routing-request-id: ['WESTUS:20170613T183517Z:bc6fc82d-478e-48ea-9e19-8be91fa25e83']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0c74720c-5067-11e7-a26f-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/eventHubEndpoints/events/ConsumerGroups?api-version=2017-01-19
  response:
    body: {string: '{"value":["$Default","consumergrp88d011ee"]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 13 Jun 2017 18:35:17 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['44']
      x-ms-correlation-request-id: [bbed9019-5224-4c41-8683-a8680c416e02]
      x-ms-ratelimit-remaining-subscription-reads: ['14997']
      x-ms-request-id: [bbed9019-5224-4c41-8683-a8680c416e02]
      x-ms-routing-request-id: ['WESTUS:20170613T183518Z:bbed9019-5224-4c41-8683-a8680c416e02']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.9
          msrest_azure/0.4.8 iothubclient/0.3.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0cb252e2-5067-11e7-94e7-ecb1d756380e]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_iothub_test_iothub_consumer_group88d011ee/providers/Microsoft.Devices/IotHubs/iot88d011ee/eventHubEndpoints/events/ConsumerGroups/consumergrp88d011ee?api-version=2017-01-19
  response:
    body: {string: ''}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['0']
      Date: ['Tue, 13 Jun 2017 18:35:18 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-correlation-request-id: [0444acfd-4ccb-4999-8194-b628b236f0c7]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-id: [0444acfd-4ccb-4999-8194-b628b236f0c7]
      x-ms-routing-request-id: ['WESTUS:20170613T183519Z:0444acfd-4ccb-4999-8194-b628b236f0c7']
    status: {code: 200, message: OK}
version: 1
